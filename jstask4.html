<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h3 id="rate"></h3>
    <script>
        // Question:
        // 1.1. Filter restaurants by their rating (rating > 4) and return an object with restaurant name,
        // location, and rating properties.
        // 1.2. Group restaurants by their location.
        // 1.3. Sort restaurants by cost low to high.
        const input = [
            {
                id: "1",
                name: "KFC",
                location: "Chennai",
                rating: 4.2,
                cuisines: ["fast food", "south indian"],
                costForTwo: 350,
            },
            {
                id: "2",
                name: "Burger King",
                location: "Madurai",
                rating: 3.5,
                cuisines: ["fast food", "north indian", "chinese"],
                costForTwo: 250,
            },
            {
                id: "3",
                name: "Thalapakatti",
                location: "Salem",
                rating: 4.5,
                cuisines: ["south indian"],
                costForTwo: 300,
            },
            {
                id: "4",
                name: "Dominos",
                location: "Chennai",
                rating: 4.1,
                cuisines: ["south indian", "chinese", "fast food"],
                costForTwo: 200,
            },
            {
                id: "5",
                name: "Subway",
                location: "Madurai",
                rating: 4.8,
                cuisines: ["north indian", "fast food"],
                costForTwo: 300,
            },
        ]

        //Filter restaurants by their rating (rating > 4) and return an object with restaurant name, 
        //location, and rating properties.
        let newArray = input.filter(function (el) { return el.rating > 4.0 });
        console.log(newArray);  // for displaying the content in console
        document.getElementById('rate').innerHTML = JSON.stringify(newArray); // for displaying it in viewport


        // Group restaurants by their location.
        // const groupByLocation = input.filter(function (ele) { return ele.location });
        // console.log(groupByLocation)
        const groupByLocation = (restaurants) => {
            // console.log(restaurants)
            return restaurants.reduce((grouped, restaurant) => { // grouped - initial value restaurant - currentvalue
                // console.log(grouped);
                // const { location } = restaurant; - destructive
                const location = restaurant.location;

                if (!grouped[location]) {
                    grouped[location] = [];
                }

                grouped[location].push(restaurant);
                // console.log(restaurant)

                //console.log( grouped[location])

                return grouped;
            }, {});
        };

        const groupedRestaurants = groupByLocation(input);

        console.log(groupedRestaurants);


        //  1.3.  Sort restaurants by cost low to high. 
       const sortCost = input.sort((a,b)=> a.costForTwo - b.costForTwo);
       console.log(sortCost)

    </script>
</body>

</html>